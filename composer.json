{
    "name": "artifriends/saseul-core",
    "description": "SASEUL Origin core.",
    "minimum-stability": "stable",
    "authors": [
        {
            "name": "artifriends",
            "email": "saseul@artifriends.com"
        }
    ],
    "autoload": {
        "psr-4": {
            "src\\": "src/",
            "Saseul\\": "src/Saseul/",
            "Saseul\\API\\": "src/Saseul/API/",
            "Saseul\\Common\\": "src/Saseul/Common/",
            "Saseul\\Consensus\\": "src/Saseul/Consensus/",
            "Saseul\\Constant\\": "src/Saseul/Constant/",
            "Saseul\\Core\\": "src/Saseul/Core/",
            "Saseul\\Custom\\": "src/Saseul/Custom/",
            "Saseul\\Daemon\\": "src/Saseul/Daemon/",
            "Saseul\\System\\": "src/Saseul/System/",
            "Saseul\\Util\\": "src/Saseul/Util/",
            "Saseul\\Script\\": "src/Saseul/Script/",
            "Cmd\\": "cmd/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Sasuel\\Tests\\": "./tests"
        }
    },
    "require": {
        "monolog/monolog": "^1.24",
        "ext-posix": "*",
        "ext-json": "*",
        "ext-mongodb": "*"
    },
    "require-dev": {
        "roave/security-advisories": "dev-master",
        "phpunit/phpunit": "^8",
        "phan/phan": "^2",
        "friendsofphp/php-cs-fixer": "^2",
        "composer/composer": "^1"
    },
    "scripts": {
        "docker-build": [
            "DOCKER_BUILDKIT=1 docker build -t saseul-core ."
        ],
        "docker-up": [
            "docker-compose up -d"
        ],
        "docker-down": [
            "docker-compose down"
        ],
        "docker-log": [
            "docker-compose logs -f"
        ],
        "make-env": [
            "cp ./env.example ./.env"
        ],
        "add": [
            "composer require --ignore-platform-reqs",
            "composer dump-autoload"
        ],
        "local-install": [
            "composer install --ignore-platform-reqs",
            "composer dump-autoload"
        ],
        "local-update": [
            "composer update --ignore-platform-reqs",
            "composer dump-autoload"
        ],
        "node-clean": [
            "@docker-down",
            "sh ./cmd/rm_block_data.sh",
            "@docker-up mongo",
            "sleep 10",
            "docker-compose run --rm node bash -c './src/saseul_script MakeMongoDB'",
            "@docker-down"
        ],
        "phan": [
            "PHAN_ALLOW_XDEBUG=1 ./vendor/bin/phan"
        ],
        "fix": [
            "./vendor/bin/php-cs-fixer fix --using-cache=no"
        ],
        "test": [
            "docker-compose run --rm node bash -c './vendor/bin/phpunit --coverage-text'",
            "@docker-down"
        ],
        "ci-phan": [
            "@phan"
        ],
        "ci-fix": [
            "./vendor/bin/php-cs-fixer fix --using-cache=no --dry-run --diff"
        ],
        "ci-test": [
            "./vendor/bin/phpunit --coverage-text --coverage-clover build/logs/clover.xml"
        ]
    },
    "scripts-descriptions": {
        "docker-build": "Build SASEUL docker image",
        "docker-up": "사슬에 연관된 도커 이미지들 대몬 형식으로 실행",
        "docker-down": "사슬에 연관된 도커 이미지 terminator",
        "docker-log": "서비스 로그 확인",
        "make-env": "env 파일 생성",
        "add": "패키지 추가",
        "local-install": "패키지 설치",
        "local-update": "패키지 업데이트",
        "node-clean": "SASEUL 노드에 관련된 정보들을 전부 삭제",
        "phan": "정적 분석기",
        "fix": "문법 오류 수정",
        "test": "테스트 코드 실행",
        "ci-phan": "[CI] 정적 분석기",
        "ci-fix": "[CI] 문법 오류 확인",
        "ci-test": "[CI] 테스트 코드 실행"
    }
}
